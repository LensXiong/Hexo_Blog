<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/hexo_blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/hexo_blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/hexo_blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/hexo_blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/hexo_blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/hexo_blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/hexo_blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="MySQL," />










<meta name="description" content="摘要：在进行索引优化、查询截取分析、锁机制等高级部分之前，需要对基本的核心知识点进行重点归纳和总结。首先，需要明确手写SQL顺序和机读SQL顺序是不一样的，只有理解SQL的执行顺序才能写出较好的SQL语句。再次，依次介绍了内连接INNER JOIN，左连接LEFT JOIN，右连接RIGHT JOIN，全连接FULL OUTER JOIN等SQL JOINS的文氏图，通过详细的案例进行对比和说明，">
<meta name="keywords" content="MySQL">
<meta property="og:type" content="article">
<meta property="og:title" content="﻿【MySQL高级】七种 SQL JOINS 文氏图解">
<meta property="og:url" content="http://wwxiong.com/hexo_blog/2018/11/17/2018/2018-11-17-mysql-sql-joins/index.html">
<meta property="og:site_name" content="Wangxiong&#39;s Notes">
<meta property="og:description" content="摘要：在进行索引优化、查询截取分析、锁机制等高级部分之前，需要对基本的核心知识点进行重点归纳和总结。首先，需要明确手写SQL顺序和机读SQL顺序是不一样的，只有理解SQL的执行顺序才能写出较好的SQL语句。再次，依次介绍了内连接INNER JOIN，左连接LEFT JOIN，右连接RIGHT JOIN，全连接FULL OUTER JOIN等SQL JOINS的文氏图，通过详细的案例进行对比和说明，">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/02.png?raw=true">
<meta property="og:image" content="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/01.jpg?raw=true">
<meta property="og:image" content="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/02.png?raw=true">
<meta property="og:updated_time" content="2019-02-26T03:19:20.403Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="﻿【MySQL高级】七种 SQL JOINS 文氏图解">
<meta name="twitter:description" content="摘要：在进行索引优化、查询截取分析、锁机制等高级部分之前，需要对基本的核心知识点进行重点归纳和总结。首先，需要明确手写SQL顺序和机读SQL顺序是不一样的，只有理解SQL的执行顺序才能写出较好的SQL语句。再次，依次介绍了内连接INNER JOIN，左连接LEFT JOIN，右连接RIGHT JOIN，全连接FULL OUTER JOIN等SQL JOINS的文氏图，通过详细的案例进行对比和说明，">
<meta name="twitter:image" content="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/02.png?raw=true">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/hexo_blog/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'PTDAI8CAYI',
      apiKey: '0ee8d8726142fd3ffede4bc9f6a038b4',
      indexName: 'lensxiong',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wwxiong.com/hexo_blog/2018/11/17/2018/2018-11-17-mysql-sql-joins/"/>





  <title>﻿【MySQL高级】七种 SQL JOINS 文氏图解 | Wangxiong's Notes</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?409134d3cf8c219e63f0cb0c78947ea7";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/hexo_blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Wangxiong's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">始于技术，岂止于技术。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-主页">
          <a href="/hexo_blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            主页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/hexo_blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/hexo_blog/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/hexo_blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/hexo_blog/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-首页">
          <a href="http://wwxiong.com" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wwxiong.com/hexo_blog/hexo_blog/2018/11/17/2018/2018-11-17-mysql-sql-joins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Wang Xiong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/hexo_blog/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wangxiong's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">﻿【MySQL高级】七种 SQL JOINS 文氏图解</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-17T12:09:24+08:00">
                2018-11-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong><br>摘要：在进行索引优化、查询截取分析、锁机制等高级部分之前，需要对基本的核心知识点进行重点归纳和总结。首先，需要明确手写<code>SQL</code>顺序和机读<code>SQL</code>顺序是不一样的，只有理解<code>SQL</code>的执行顺序才能写出较好的<code>SQL</code>语句。再次，依次介绍了内连接<code>INNER JOIN</code>，左连接<code>LEFT JOIN</code>，右连接<code>RIGHT JOIN</code>，全连接<code>FULL OUTER JOIN</code>等<code>SQL JOINS</code>的文氏图，通过详细的案例进行对比和说明，目的在于深入理解各种<code>SQL JOINS</code>的相关知识。<br><img src="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/02.png?raw=true" alt="七种SQL Joins 文氏图解">
</strong><br><a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h1 id="SQL的执行顺序"><a href="#SQL的执行顺序" class="headerlink" title="SQL的执行顺序"></a>SQL的执行顺序</h1><p>手写<code>SQL</code>顺序：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span></span><br><span class="line">    &lt;select_list&gt;</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    &lt;left_table&gt; </span><br><span class="line">    &lt;join_type&gt;</span><br><span class="line"><span class="keyword">JOIN</span> &lt;right_table&gt; <span class="keyword">ON</span> &lt;join_condition&gt;</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    &lt;where_condition&gt;</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">    &lt;group_by_list&gt;</span><br><span class="line"><span class="keyword">HAVING</span></span><br><span class="line">    &lt;having_condition&gt;</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    &lt;order_by_condition&gt;</span><br><span class="line"><span class="keyword">LIMIT</span></span><br><span class="line">    &lt;limit_number&gt;</span><br></pre></td></tr></table></figure>
<p>机读<code>SQL</code>数据：<br><img src="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/01.jpg?raw=true" alt="机读SQL顺序"></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">FROM</span> </span><br><span class="line">    <span class="section">&lt;left_table&gt;</span></span><br><span class="line"><span class="attribute">ON</span> </span><br><span class="line">    <span class="section">&lt;join_condition&gt;</span></span><br><span class="line">    <span class="section">&lt;join_type&gt;</span> </span><br><span class="line"><span class="attribute">JOIN</span> </span><br><span class="line">    <span class="section">&lt;right_table&gt;</span> </span><br><span class="line"><span class="attribute">WHERE</span></span><br><span class="line">    <span class="section">&lt;where_condition&gt;</span></span><br><span class="line"><span class="attribute">GROUP</span> BY</span><br><span class="line">    <span class="section">&lt;group_by_list&gt;</span></span><br><span class="line"><span class="attribute">HAVING</span></span><br><span class="line">    <span class="section">&lt;having_condition&gt;</span></span><br><span class="line"><span class="attribute">SELECT</span> DISTINCT</span><br><span class="line">    <span class="section">&lt;select_list&gt;</span></span><br><span class="line"><span class="attribute"><span class="nomarkup">ORDER</span></span> BY</span><br><span class="line">    <span class="section">&lt;order_by_condition&gt;</span></span><br><span class="line"><span class="attribute">LIMIT</span></span><br><span class="line">    <span class="section">&lt;limit_number&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="七种Join文氏图"><a href="#七种Join文氏图" class="headerlink" title="七种Join文氏图"></a>七种Join文氏图</h1><p><img src="https://github.com/LensXiong/hexo_source_code/blob/master/img/technology/2018/mysql-sql-joins/02.png?raw=true" alt="七种SQL Joins 文氏图解"></p>
<p>建表语句：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表A</span><br><span class="line">CREATE TABLE `TableA`(</span><br><span class="line">`id` INT(11) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`deptName` VARCHAR(30)<span class="built_in"> DEFAULT </span><span class="literal">NULL</span>,</span><br><span class="line">`locAdd` VARCHAR(40)<span class="built_in"> DEFAULT </span><span class="literal">NULL</span>,</span><br><span class="line">PRIMARY KEY (`id`)</span><br><span class="line">) <span class="attribute">ENGINE</span>=InnoDB<span class="built_in"> DEFAULT </span><span class="attribute">CHARSET</span>=utf8 <span class="attribute">COMMENT</span>=<span class="string">'表A'</span>;</span><br><span class="line">-- 创建表B</span><br><span class="line">CREATE TABLE `TableB`(</span><br><span class="line">`id` INT(11) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`name` VARCHAR(20)<span class="built_in"> DEFAULT </span><span class="literal">NULL</span>,</span><br><span class="line">`deptId` INT(11)<span class="built_in"> DEFAULT </span><span class="literal">NULL</span>,</span><br><span class="line">PRIMARY KEY (`id`),</span><br><span class="line">KEY `fk_dept_id` (`deptId`)</span><br><span class="line">) <span class="attribute">ENGINE</span>=InnoDB<span class="built_in"> DEFAULT </span><span class="attribute">CHARSET</span>=utf8 <span class="attribute">COMMENT</span>=<span class="string">'表B'</span>;</span><br></pre></td></tr></table></figure>
<p>插入数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入表A和表B数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableA(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'PD'</span>,<span class="number">11</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableA(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'HR'</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableA(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'MK'</span>,<span class="number">13</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableA(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'MIS'</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableA(deptName,locAdd) <span class="keyword">VALUES</span>(<span class="string">'FD'</span>,<span class="number">15</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'z3'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'z4'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'z5'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'w5'</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'w6'</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'s7'</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'s8'</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> TableB(<span class="keyword">name</span>,deptId) <span class="keyword">VALUES</span>(<span class="string">'s9'</span>,<span class="number">51</span>);</span><br></pre></td></tr></table></figure>
<p>根据上面文氏图，依次顺序为<code>INNER JOIN</code>，<code>LEFT JOIN</code>，<code>RIGHT JOIN</code>，<code>FULL OUTER JOIN</code>。</p>
<h2 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h2><p><code>INNER JOIN</code>（内连接），产生的结果集中，是A和B的交集。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- INNER JOIN（内连接），产生的结果集中，是A和B的交集。</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.<span class="symbol">`id`</span> = b.<span class="symbol">`deptId`</span>;</span><br><span class="line">-- CROSS JOIN</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line">CROSS <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.<span class="symbol">`id`</span> = b.<span class="symbol">`deptId`</span>;</span><br><span class="line">-- JOIN</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.<span class="symbol">`id`</span> = b.<span class="symbol">`deptId`</span>;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>In MySQL, JOIN, CROSS JOIN, and INNER JOIN are syntactic equivalents (they can replace each other). In standard SQL, they are not equivalent. INNER JOIN is used with an ON clause, CROSS JOIN is used otherwise.</p>
</blockquote>
<h2 id="左连接"><a href="#左连接" class="headerlink" title="左连接"></a>左连接</h2><p><code>LEFT JOIN</code>（左连接），产生的结果集中，是A的全部结果集。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- LEFT [OUTER] JOIN</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.<span class="symbol">`id`</span> = b.<span class="symbol">`deptId`</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="右连接"><a href="#右连接" class="headerlink" title="右连接"></a>右连接</h2><p><code>RIGHT JOIN</code>（右连接），产生的结果集中，是B的全部结果集。<br><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- RIGHT [OUTER] JOIN</span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.<span class="symbol">`id`</span> = b.<span class="symbol">`deptId`</span>;</span><br></pre></td></tr></table></figure></p>
<p>关于<code>LEFT JOIN</code>和 <code>RIGHT JOIN</code>，<code>MySQL</code>官方文档原文如下：</p>
<blockquote>
<p>RIGHT JOIN works analogously to LEFT JOIN. To keep code portable across databases, it is recommended that you use LEFT JOIN instead of RIGHT JOIN.</p>
</blockquote>
<h2 id="左连接不含B"><a href="#左连接不含B" class="headerlink" title="左连接不含B"></a>左连接不含B</h2><p><code>LEFT [OUTER] JOIN AND b.deptId IS NULL</code>，产生的结果集中，是A中不包含B的结果集。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- LEFT [OUTER] JOIN AND b.deptId IS NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId</span><br><span class="line"><span class="keyword">WHERE</span> b.deptId <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="右连接不含A"><a href="#右连接不含A" class="headerlink" title="右连接不含A"></a>右连接不含A</h2><p><code>RIGHT [OUTER] JOIN AND a.id IS NULL</code>，产生的结果集中，是B中不包含A的结果集。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- RIGHT [OUTER] JOIN AND a.id IS NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId</span><br><span class="line"><span class="keyword">WHERE</span> a.id <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="全连接"><a href="#全连接" class="headerlink" title="全连接"></a>全连接</h2><p><code>FULL [OUTER] JOIN</code>，产生的结果集中，是包含AB的所有结果集。<br><code>MySQL</code>不支持全连接，因此文氏图中的全连接语句不适用于<code>MySQL</code>，但对于<code>Oracle</code>适用。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- FULL [OUTER] JOIN </span></span><br><span class="line"><span class="keyword">SELECT</span> * </span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p> <code>MySQL</code>不支持全连接，以上全连接语句不适用于<code>MySQL</code>。</p>
</blockquote>
<p><code>MySQL</code>不支持全连接，但可以通过<code>LEFT JOIN + UNION + RIGHT JOIN</code>来实现<code>FULL JOIN</code>：<br><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- MySQL不支持全连接，可以通过LEFT <span class="keyword">JOIN</span> + <span class="keyword">UNION</span> + RIGHT <span class="keyword">JOIN</span> 来实现FULL <span class="keyword">JOIN</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line">LEFT <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line">RIGHT <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId;</span><br></pre></td></tr></table></figure></p>
<h2 id="全连接A的独有与B的独有"><a href="#全连接A的独有与B的独有" class="headerlink" title="全连接A的独有与B的独有"></a>全连接A的独有与B的独有</h2><p>本次产生的结果集，是A的独有结果集和B的独有结果集之和。</p>
<p>在<code>Oracle</code>中，全连接写法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">TABLEA a </span><br><span class="line"><span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> </span><br><span class="line">TABLEB b</span><br><span class="line"><span class="keyword">ON</span> a.id = b.deptId</span><br><span class="line"><span class="keyword">WHERE</span> a.id <span class="keyword">IS</span> <span class="literal">NULL</span> </span><br><span class="line"><span class="keyword">OR</span> b.deptId <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>
<p>因为<code>MySQL</code>不支持全连接，通过<code>LEFT JOIN + UNION + RIGHT JOIN</code>来实现：</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId</span><br><span class="line"><span class="keyword">WHERE</span> b.deptId <span class="keyword">IS</span> <span class="literal">NULL</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> TABLEA <span class="keyword">AS</span> a </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> TABLEB <span class="keyword">AS</span> b <span class="keyword">ON</span> a.id = b.deptId</span><br><span class="line"><span class="keyword">WHERE</span> a.id <span class="keyword">IS</span> <span class="literal">NULL</span> ;</span><br></pre></td></tr></table></figure>
</the>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/hexo_blog/tags/MySQL/" rel="tag"># MySQL</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/hexo_blog/2018/10/29/2018/2018-10-29-mysql-logical-architecture/" rel="next" title="【MySQL高级】逻辑架构和存储引擎">
                <i class="fa fa-chevron-left"></i> 【MySQL高级】逻辑架构和存储引擎
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/hexo_blog/2018/12/04/2018/2018-12-04-mysql-index-optimization-01/" rel="prev" title="【MySQL高级】索引优化分析（一）">
                【MySQL高级】索引优化分析（一） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/hexo_blog/images/avatar.jpg"
                alt="Wang Xiong" />
            
              <p class="site-author-name" itemprop="name">Wang Xiong</p>
              <p class="site-description motion-element" itemprop="description">知行合一，格物致知。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/hexo_blog/archives/">
              
                  <span class="site-state-item-count">74</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/hexo_blog/tags/index.html">
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="http://wwxiong.com" target="_blank" title="Jekyll">
                      
                        <i class="fa fa-fw fa-address-book"></i>Jekyll</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://wwxiong.com/navigation/index.html" target="_blank" title="Navbar">
                      
                        <i class="fa fa-fw fa-bars"></i>Navbar</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/LensXiong" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:lensxiong@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL的执行顺序"><span class="nav-number">1.</span> <span class="nav-text">SQL的执行顺序</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七种Join文氏图"><span class="nav-number">2.</span> <span class="nav-text">七种Join文氏图</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#内连接"><span class="nav-number">2.1.</span> <span class="nav-text">内连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#左连接"><span class="nav-number">2.2.</span> <span class="nav-text">左连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#右连接"><span class="nav-number">2.3.</span> <span class="nav-text">右连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#左连接不含B"><span class="nav-number">2.4.</span> <span class="nav-text">左连接不含B</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#右连接不含A"><span class="nav-number">2.5.</span> <span class="nav-text">右连接不含A</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全连接"><span class="nav-number">2.6.</span> <span class="nav-text">全连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全连接A的独有与B的独有"><span class="nav-number">2.7.</span> <span class="nav-text">全连接A的独有与B的独有</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2016-2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wang Xiong</span>

  
</div>

<div>

  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> </div>

</div>

<div>

  <div class="theme-info">Theme by <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div>

</div>

<div>京ICP备 <a href="http://icp.alexa.cn/">16010164号-1</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/hexo_blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/hexo_blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/hexo_blog/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/hexo_blog/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/hexo_blog/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/hexo_blog/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/hexo_blog/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/hexo_blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
